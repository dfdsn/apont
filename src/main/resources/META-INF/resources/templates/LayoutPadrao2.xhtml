<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:sec="http://www.springframework.org/security/tags">

<h:head>
	<meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="CoreUI - Open Source Bootstrap Admin Template" />
    <meta name="author" content="Łukasz Holeczek" />
    <meta name="keyword" content="Bootstrap,Admin,Template,Open,Source,AngularJS,Angular,Angular2,Angular 2,Angular4,Angular 4,jQuery,CSS,HTML,RWD,Dashboard,React,React.js,Vue,Vue.js" />
<!--     <h:outputStylesheet library="nfx" rel="shortcut icon" name="core/img/favicon.png" /> -->
<!-- 		<link rel="shortcut icon" type="image/x-icon" href="#{resource['nfx:core/img/logo_nfx.png']}"/> -->

		
    <title>PRO-X</title>
    
<!-- 	<h:outputStylesheet library="algaworks" name="estilo.css" /> -->

    <!-- Icons -->
    <h:outputStylesheet library="nfx" name="core/css/font-awesome.min.css" />
    <h:outputStylesheet library="nfx" name="core/css/simple-line-icons.css" />

    <!-- Main styles for this application -->
    <h:outputStylesheet library="nfx" name="core/css/style.css" rel="stylesheet" />
<!--     <h:outputStylesheet library="nfx" name="layout/stylesheets/style.css" rel="stylesheet" /> -->

<!-- 	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"  -->
<!-- 		integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" /> -->
	<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"></link>

</h:head>
<!-- sidebar-hidden -->

<h:body class="app header-fixed sidebar-fixed aside-menu-fixed aside-menu-hidden   ">
	<input type="hidden" name="_csrf_header" value="${_csrf.headerName}"/>
	<input type="hidden" name="_csrf" value="${_csrf.token}"/>
	
	<f:metadata>
		<f:viewAction action="#{empresaBean.consultar}" />
		<f:viewAction action="#{empresaBean.todasEmpresas}" />
	</f:metadata>

    <header class="app-header navbar">
        <button class="navbar-toggler mobile-sidebar-toggler d-lg-none" type="button">☰</button>
        <!-- O logotipo está setado no arquivo nfx:core/css/style.css -->
        <a class="navbar-brand" href="#" style="text-shadow: 0.2em 0.5em 0.1em #600,
														      -0.3em 0.1em 0.1em #555,
														      0.4em -0.3em 0.1em #006; color: blue; ">       PRO-X</a> 
        <ul class="nav navbar-nav d-md-down-none">
            <li class="nav-item navbar-left">
                <a class="nav-link navbar-toggler sidebar-toggler" href="#" style="align:float;">☰</a>
            </li>

<!--             <li class="nav-item px-3"> -->
<!--                 <a class="nav-link" href="#">Dashboard</a> -->
<!--             </li> -->
<!--             <li class="nav-item px-3"> -->
<!--                 <a class="nav-link" href="#">Users</a> -->
<!--             </li> -->
<!--             <li class="nav-item px-3"> -->
<!--                 <a class="nav-link" href="#">Settings</a> -->
<!--             </li> -->
        </ul>
        <h:form>
        <ul class="nav navbar-nav ml-auto">
            <li class="nav-item d-md-down-none">
                <p:selectOneMenu value="#{principalBean.empresaSelecionada}" >
					<f:selectItems value="#{empresaBean.todasEmpresas}" var="emp" 
						itemLabel="#{emp.cnpj} - #{emp.nomeFantasia}" itemValue="emp" />
				</p:selectOneMenu>
            </li>
            
            <li class="nav-item d-md-down-none">
                <a class="nav-link" href="#"><i class="fa fa-map-markerrr"></i></a>
            </li>
            
            <li class="nav-item d-md-down-none">
                <p:menubar style="width: 110px;">
					<p:submenu label="#{principalBean.usuarioLogado}" icon="ui-icon-person" >
						<p:menuitem value="Alterar senha" url="#" icon="ui-icon ui-icon-key" />
						<p:menuitem value="Sair" url="/logout" icon="ui-icon ui-icon-power" />
					</p:submenu>
				</p:menubar>
            </li>

        </ul>
        </h:form>
    </header>

    <div class="app-body">
        <div class="sidebar">
            <nav class="sidebar-nav">
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link" href="./principal.jsf"><i class="fa fa-tachometer"></i> Dashboard </a> <!--  <span class="badge badge-info">NEW</span>  -->
                    </li>

                  <!--   <li class="nav-title">  
                        Menu
                    </li> -->
                    <li class="nav-item nav-dropdown">
                        <a class="nav-link nav-dropdown-toggle" href="#"><i class="fa fa-book"></i>Cadastro</a>
                        <ul class="nav-dropdown-items">
                            
                           	<li class="nav-item">
                         		<a class="nav-link" href="./consultor.jsf"><i /><i class="fa fa-user"></i> Consultores</a>
					      	</li>
				      	
					      	<li class="nav-item">
                         		<a class="nav-link" href="./projeto.jsf"><i /><i class="fa fa-money"></i> Projetos</a>
					      	</li>
					      
					      	<li class="nav-item">
					      		<a class="nav-link" href="./contratante.jsf"><i /><i class="fa fa-male"></i>Contratante</a>
					      	</li>
					      	
					      	<li class="nav-item">
					      		<a class="nav-link" href="./apontamento.jsf"><i /><i class="fa fa-clock-o"></i>Apontamento</a>
					      	</li>
					      	
					      	<li class="nav-item">
					      		<a class="nav-link" href="./Item.jsf"><i /><i class="fa fa-clock-o"></i>Item</a>
					      	</li>
                        </ul>
                    </li>
                    
                    <li class="nav-item nav-dropdown">
                        <a class="nav-link nav-dropdown-toggle" href="#"><i class="fa fa-book"></i>Nota Fiscal - NF-e</a>
                        <ul class="nav-dropdown-items">
                            
                           	<li class="nav-item">
                         		<a class="nav-link" href="./empresa.jsf"><i /><i class="fa fa-address-book-o" aria-hidden="true"></i>Cadastro de empresa</a>
					      	</li>
					      	
					      	<li class="nav-item">
                         		<a class="nav-link" href="./certificadoDigital.jsf"><i /><i class="fa fa-certificate"></i>Certificado digital</a>
					      	</li>
					      	
					      	<li class="nav-item">
                         		<a class="nav-link" href="./nfeRecebimento.jsf"><i /><i class="fa fa-download"></i>NF-e recebimento</a>
					      	</li>
					 </ul>
                    </li>      	
                   <!--  <li class="nav-item nav-dropdown">
                        <a class="nav-link nav-dropdown-toggle" href="#"><i class="icon-star"></i> Icons</a>
                        <ul class="nav-dropdown-items">
                            <li class="nav-item">
                                <a class="nav-link" href="icons-font-awesome.html"><i class="icon-star"></i> Font Awesome</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="icons-simple-line-icons.html"><i class="icon-star"></i> Simple Line Icons</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="widgets.html"><i class="icon-calculator"></i> Widgets <span class="badge badge-info">NEW</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="charts.html"><i class="icon-pie-chart"></i> Charts</a>
                    </li>
                    <li class="divider"></li>
                    <li class="nav-title">
                        Extras
                    </li>
                    <li class="nav-item nav-dropdown">
                        <a class="nav-link nav-dropdown-toggle" href="#"><i class="icon-star"></i> Pages</a>
                        <ul class="nav-dropdown-items">
                            <li class="nav-item">
                                <a class="nav-link" href="pages-login.html" target="_top"><i class="icon-star"></i> Login</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="pages-register.html" target="_top"><i class="icon-star"></i> Register</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="pages-404.html" target="_top"><i class="icon-star"></i> Error 404</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="pages-500.html" target="_top"><i class="icon-star"></i> Error 500</a>
                            </li>
                        </ul>
                    </li>    -->

                </ul>
            </nav>
        </div>

        <!-- Main content -->
        <main class="main">

            <!-- Breadcrumb -->
<!--             <ol class="breadcrumb"> -->
<!--                 <li class="breadcrumb-item">Home</li> -->
<!--                 <li class="breadcrumb-item"><a href="#">Admin</a> -->
<!--                 </li> -->
<!--                 <li class="breadcrumb-item active">Dashboard</li> -->

<!--                 Breadcrumb Menu -->
<!--                 <li class="breadcrumb-menu d-md-down-none"> -->
<!--                     <div class="btn-group" role="group" aria-label="Button group with nested dropdown"> -->
<!--                         <a class="btn btn-secondary" href="#"><i class="icon-speech"></i></a> -->
<!--                         <a class="btn btn-secondary" href="./"><i class="icon-graph"></i> &nbsp;Dashboard</a> -->
<!--                         <a class="btn btn-secondary" href="#"><i class="icon-settings"></i> &nbsp;Settings</a> -->
<!--                     </div> -->
<!--                 </li> -->
<!--             </ol> -->


            <div class="container-fluid">
            	<div class="animated fadeIn">	
            		<p:messages id="msgs" showDetail="true" />
					<ui:insert name="conteudo" />
				</div>	
            </div>
            <!-- /.conainer-fluid -->
        </main>
    </div>

    <footer class="app-footer">
        <a href="Javascript:window.location='${request.contextPath}/principal.jsf'">LHaine</a> © 2017.
        <span class="float-right">
			<p:clock pattern="HH:mm:ss - dd/MM/yyyy" />  ${environment.getProperty('prox.version')}
        </span>
    </footer>

	<p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" styleClass="fadeIn" />

	<p:dialog widgetVar="statusDialog" modal="true" 
			draggable="false" closable="false" resizable="false" 
			showHeader="false" >
		<div align="center">
			<p:outputLabel value="PROCESSANDO..." /><br/>
	    	<p:graphicImage library="nfx" name="core/img/ajax-loader.gif" />
	    </div>
	</p:dialog>

	<h:form>
		<p:confirmDialog global="true" showEffect="slide" hideEffect="slide">
			<p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no"
				icon="ui-icon-close" />
				
			<p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes"
				icon="ui-icon-check" />
		</p:confirmDialog>
		
	<ui:remove>
		<p:idleMonitor timeout="${session.maxInactiveInterval}">
			  <p:ajax event="idle" listener="#{principalBean.logout}" oncomplete="PF('idleDialog').show();" update="messages" />
			  <p:ajax event="active" listener="#{principalBean.logout}" update="messages" />
	     </p:idleMonitor>
	     
	     <p:dialog
	             header="A sessão expirou"
	             widgetVar="idleDialog"
	             modal="true"
	             global="true"
	             responsive="true"
	             fixedCenter="true"
	             closable="false"
	             draggable="false"
	             resizable="false"
	             appendToBody="true"
	             fitViewport="true"
	             style="text-align: center;"
	             height="100"
	             width="400"
	             >
             <div align="center">
		         <p:outputLabel escape="false"  value="A sessão expirou após ${(environment.getProperty('server.session.timeout')/1000).intValue()} minutos de inatividade.&lt;br/&gt; Faça login novamente." >
		         	<f:convertNumber minFractionDigits="0" maxFractionDigits="0" />
		         </p:outputLabel><br/><br/>
		         <p:commandButton value="OK"  onclick="PF('idleDialog').hide();"></p:commandButton>
	         </div>
	     </p:dialog>
	</ui:remove>	
	</h:form>


    <!-- Bootstrap and necessary plugins -->
    

    
<!--     <script src="bower_components/jquery/dist/jquery.min.js"></script> -->
<!--     <script src="bower_components/tether/dist/js/tether.min.js"></script> -->
<!--     <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script> -->
<!--     <script src="bower_components/pace/pace.min.js"></script> -->


    <!-- Plugins and scripts required by all views -->
<!--     <script src="bower_components/chart.js/dist/Chart.min.js"></script> -->


    <!-- GenesisUI main scripts -->
	<h:outputScript library="nfx" name="core/js/jquery.bootstrap-duallistbox.js" />
    <h:outputScript library="nfx" name="core/js/app.js" />

    <!-- Plugins and scripts required by this views -->

    <!-- Custom scripts required by this view -->
    
    
</h:body>
	
</html>